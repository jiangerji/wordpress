function b(){h=$(window).height(),t=$(document).scrollTop(),t>h?$("#gotop").fadeIn(500):$("#gotop").fadeOut(500)}!function(a,b){"use strict";function c(a){this.callback=a,this.ticking=!1}function d(a){var b,c,e,f;if(arguments.length<=0)throw new Error("Missing arguments in extend function");for(e=a||{},c=1;c<arguments.length;c++){f=arguments[c]||{};for(b in f)e[b]="object"==typeof e[b]?d(e[b],f[b]):e[b]||f[b]}return e}function e(a,b){b=d(b,e.options),this.lastKnownScrollY=0,this.elem=a,this.debouncer=new c(this.update.bind(this)),this.tolerance=b.tolerance,this.classes=b.classes,this.offset=b.offset,this.initialised=!1,this.onPin=b.onPin,this.onUnpin=b.onUnpin,this.onTop=b.onTop,this.onNotTop=b.onNotTop}var f={bind:!!function(){}.bind,classList:"classList"in b.documentElement,rAF:!!(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame)};a.requestAnimationFrame=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,c.prototype={constructor:c,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},e.prototype={constructor:e,init:function(){return e.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var b=this.classes;this.initialised=!1,a.removeEventListener("scroll",this.debouncer,!1),this.elem.classList.remove(b.unpinned,b.pinned,b.top,b.initial)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,a.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var a=this.elem.classList,b=this.classes;(a.contains(b.pinned)||!a.contains(b.unpinned))&&(a.add(b.unpinned),a.remove(b.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var a=this.elem.classList,b=this.classes;a.contains(b.unpinned)&&(a.remove(b.unpinned),a.add(b.pinned),this.onPin&&this.onPin.call(this))},top:function(){var a=this.elem.classList,b=this.classes;a.contains(b.top)||(a.add(b.top),a.remove(b.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var a=this.elem.classList,b=this.classes;a.contains(b.notTop)||(a.add(b.notTop),a.remove(b.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==a.pageYOffset?a.pageYOffset:(b.documentElement||b.body.parentNode||b.body).scrollTop},getViewportHeight:function(){return a.innerHeight||b.documentElement.clientHeight||b.body.clientHeight},getDocumentHeight:function(){var a=b.body,c=b.documentElement;return Math.max(a.scrollHeight,c.scrollHeight,a.offsetHeight,c.offsetHeight,a.clientHeight,c.clientHeight)},isOutOfBounds:function(a){var b=0>a,c=a+this.getViewportHeight()>this.getDocumentHeight();return b||c},toleranceExceeded:function(a){return Math.abs(a-this.lastKnownScrollY)>=this.tolerance},shouldUnpin:function(a,b){var c=a>this.lastKnownScrollY,d=a>=this.offset;return c&&d&&b},shouldPin:function(a,b){var c=a<this.lastKnownScrollY,d=a<=this.offset;return c&&b||d},update:function(){var a=this.getScrollY(),b=this.toleranceExceeded(a);this.isOutOfBounds(a)||(a<=this.offset?this.top():this.notTop(),this.shouldUnpin(a,b)?this.unpin():this.shouldPin(a,b)&&this.pin(),this.lastKnownScrollY=a)}},e.options={tolerance:0,offset:0,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},e.cutsTheMustard="undefined"!=typeof f&&f.rAF&&f.bind&&f.classList,a.Headroom=e}(window,document),function(a){if("undefined"!=typeof define&&define.amd)define(["jquery"],a);else if("undefined"!=typeof module&&module.exports){var b=require("jquery");module.exports=a(b)}else window.scrollMonitor=a(jQuery)}(function(a){function q(){return window.innerHeight||document.documentElement.clientHeight}function s(){if(b.viewportTop=c.scrollTop(),b.viewportBottom=b.viewportTop+b.viewportHeight,b.documentHeight=d.height(),b.documentHeight!==o){for(r=e.length;r--;)e[r].recalculateLocation();o=b.documentHeight}}function t(){b.viewportHeight=q(),s(),x()}function v(){clearTimeout(u),u=setTimeout(t,100)}function x(){for(w=e.length;w--;)e[w].update();for(w=e.length;w--;)e[w].triggerCallbacks()}function y(c,d){function x(a){if(0!==a.length)for(v=a.length;v--;)w=a[v],w.callback.call(e,p),w.isOne&&a.splice(v,1)}var o,q,r,s,t,u,v,w,e=this;for(this.watchItem=c,this.offsets=d?d===+d?{top:d,bottom:d}:a.extend({},n,d):n,this.callbacks={},o=0,q=m.length;q>o;o++)e.callbacks[m[o]]=[];this.locked=!1,this.triggerCallbacks=function(){switch(this.isInViewport&&!r&&x(this.callbacks[g]),this.isFullyInViewport&&!s&&x(this.callbacks[h]),this.isAboveViewport!==t&&this.isBelowViewport!==u&&(x(this.callbacks[f]),s||this.isFullyInViewport||(x(this.callbacks[h]),x(this.callbacks[j])),r||this.isInViewport||(x(this.callbacks[g]),x(this.callbacks[i]))),!this.isFullyInViewport&&s&&x(this.callbacks[j]),!this.isInViewport&&r&&x(this.callbacks[i]),this.isInViewport!==r&&x(this.callbacks[f]),!0){case r!==this.isInViewport:case s!==this.isFullyInViewport:case t!==this.isAboveViewport:case u!==this.isBelowViewport:x(this.callbacks[l])}r=this.isInViewport,s=this.isFullyInViewport,t=this.isAboveViewport,u=this.isBelowViewport},this.recalculateLocation=function(){var c,d,e,f;this.locked||(c=this.top,d=this.bottom,this.watchItem.nodeName?(e=this.watchItem.style.display,"none"===e&&(this.watchItem.style.display=""),f=a(this.watchItem).offset(),this.top=f.top,this.bottom=f.top+this.watchItem.offsetHeight,"none"===e&&(this.watchItem.style.display=e)):this.watchItem===+this.watchItem?this.top=this.bottom=this.watchItem>0?this.watchItem:b.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom),this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===c&&void 0===d||this.top===c&&this.bottom===d||x(this.callbacks[k]))},this.recalculateLocation(),this.update(),r=this.isInViewport,s=this.isFullyInViewport,t=this.isAboveViewport,u=this.isBelowViewport}function E(a){p=a,s(),x()}var o,p,r,u,w,z,A,B,C,b={},c=a(window),d=a(document),e=[],f="visibilityChange",g="enterViewport",h="fullyEnterViewport",i="exitViewport",j="partiallyExitViewport",k="locationChange",l="stateChange",m=[f,g,h,i,j,k,l],n={top:0,bottom:0};for(b.viewportTop,b.viewportBottom,b.documentHeight,b.viewportHeight=q(),y.prototype={on:function(a,b,c){switch(!0){case a===f&&!this.isInViewport&&this.isAboveViewport:case a===g&&this.isInViewport:case a===h&&this.isFullyInViewport:case a===i&&this.isAboveViewport&&!this.isInViewport:case a===j&&this.isAboveViewport:if(b(),c)return}if(!this.callbacks[a])throw new Error("Tried to add a scroll monitor listener of type "+a+". Your options are: "+m.join(", "));this.callbacks[a].push({callback:b,isOne:c})},off:function(a,b){if(!this.callbacks[a])throw new Error("Tried to remove a scroll monitor listener of type "+a+". Your options are: "+m.join(", "));for(var d,c=0;d=this.callbacks[a][c];c++)if(d.callback===b){this.callbacks[a].splice(c,1);break}},one:function(a,b){this.on(a,b,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<b.viewportTop,this.isBelowViewport=this.bottom>b.viewportBottom,this.isInViewport=this.top<=b.viewportBottom&&this.bottom>=b.viewportTop,this.isFullyInViewport=this.top>=b.viewportTop&&this.bottom<=b.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var c,d,a=e.indexOf(this),b=this;for(e.splice(a,1),c=0,d=m.length;d>c;c++)b.callbacks[m[c]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}},z=function(a){return function(b,c){this.on.call(this,a,b,c)}},A=0,B=m.length;B>A;A++)C=m[A],y.prototype[C]=z(C);try{s()}catch(D){a(s)}return c.on("scroll",E),c.on("resize",v),b.beget=b.create=function(b,c){"string"==typeof b&&(b=a(b)[0]),b instanceof a&&(b=b[0]);var d=new y(b,c);return e.push(d),d.update(),d},b.update=function(){p=null,s(),x()},b.recalculateLocations=function(){b.documentHeight=0,b.update()},b}),function(){var a=new Headroom(document.querySelector("#header"),{tolerance:5,offset:205,classes:{initial:"animated",pinned:"slideDown",unpinned:"slideUp"}});a.init()}(),jQuery(document).ready(function(a){"undefined"!=typeof scrollMonitor&&a(".articles .posts").each(function(b,c){var d=a(c),e=scrollMonitor.create(c,-100);d.addClass("left-hide"),e.enterViewport(function(){d.hasClass("left-show")||d.addClass("left-show")})})}),$(document).ready(function(){b(),$("#gotop").click(function(){$("body,html").animate({scrollTop:0},1e3)}),$("#pinglun").click(function(){$("body,html").animate({scrollTop:$("#replies").offset().top},1e3)})}),$(window).scroll(function(){b()}),$.extend($.lazyLoadXT,{onload:{addClass:"loaded"}});